<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd">
	<sub-flow name="orchestrator-insert-customer-remissions" doc:id="2c64e2d3-c27b-43d6-8956-02930cf0ed40" >
		<ee:transform doc:name="Transform Message" doc:id="595ca6b6-a38f-4fcb-8132-a58bc56a9114" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/java
---
payload map (item)->{
	remision_number: item.remission_number default null, 
	item_code: item.code default "", 
	batch: item.batch default "",
	number_pieces: item.number_pieces default "", 
	destinations: item.destination default "", 
	delivery_date: item.delivery_date default "",
	operation_account: item.operation_account default ""
}]]></ee:set-payload>
			</ee:message>
		</ee:transform>
		<flow-ref doc:name="Call clients-db-insert-remission-informix" doc:id="b0707d0b-8510-4437-a0b8-bc5a0e1b0ea3" name="clients-db-insert-remission-informix"/>
		<ee:transform doc:name="Transform Message" doc:id="0127e63d-ed86-48b1-b684-5d887cf06471" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
{
  traxion_response: {
    completed_succesfully: "true",
    response: {
      operation: "The records has been inserted successfully",
      data: {}
    }
  }
}]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</sub-flow>
</mule>
